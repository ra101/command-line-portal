let ipAddr="127.0.0.1";$((function(){$.getJSON("https://api.ipify.org?format=jsonp&callback=?",(function(t){ipAddr=t.ip,rootPath="ra101/users/"+ipAddr}))}));const errors={invalidDirectory:"Error: not a valid directory",noWriteAccess:"Error: you do not have write access to this directory",fileNotFound:"Error: file not found in current directory",fileNotSpecified:"Error: you did not specify a file",invalidFile:"Error: not a valid file"},struct={root:["about","resume","contact"],skills:["languages","frameworks","databases","tools"]},commands={};let systemData={};const title=["🖥️ https://ra101.dev/console/","🖥️ ra101://console"];let rootPath="ra101/users/127.0.0.1";const getDirectory=()=>localStorage.directory,setDirectory=t=>{localStorage.directory=t};function close_terminal(){$("#terminal").toggleClass("closing"),$("#terminal").html('\n    <span class="bye">\n    <span class="pink-glow">(◕︵◕)/</span>\n    <span class="ping">CONNECTING TO https://ra101.dev/</span>\n    </span>\n    <script>\n    let timeUntillPing = 701\n    let pingElement = $(".ping")[0]\n    let pingElementValue = pingElement.innerText\n    const intervalObject = setInterval(()=>{\n      if (timeUntillPing <= 0){\n        clearInterval(intervalObject)\n        window.close()\n        window.open("https://ra101.github.io/", target="_self")\n      }\n      else {\n        timeUntillPing -= 1;\n        pingElement.innerText = pingElementValue + " ...IN " + timeUntillPing.toString().padStart(3, \'0\') + "ms"\n      }\n    }, 1);\n    <\/script>\n  ')}commands.mkdir=()=>errors.noWriteAccess,commands.touch=()=>errors.noWriteAccess,commands.rm=()=>errors.noWriteAccess,commands.rmdir=()=>errors.noWriteAccess,commands.cp=()=>errors.noWriteAccess,commands.mv=()=>errors.noWriteAccess,commands.chmod=()=>errors.noWriteAccess,commands.chown=()=>errors.noWriteAccess,commands.ls=t=>".."===t||"~"===t?systemData.root:t in struct?systemData[t]:systemData[getDirectory()],commands.dir=commands.ls,commands.help=()=>systemData.help,commands.all_commands=()=>systemData.all_commands,commands.printf=commands.echo=t=>t,commands.hostname=()=>ipAddr,commands.uname=()=>navigator.userAgent.indexOf("Chrome")>-1?"V8":navigator.userAgent.indexOf("WebKit")>-1?"JavaScriptCore":"SpiderMonkey",commands.ra=()=>systemData.ra,commands.ra101=commands.ra,commands.codebytere=()=>systemData.codebytere,commands.pwd=()=>{const t=getDirectory();return"root"===t?rootPath:`${rootPath}/${t}`},commands.history=()=>{let t=localStorage.history;return t=t?Object.values(JSON.parse(t)):[],`<p>${t.join("<br>")}</p>`},commands.cd=t=>{const e=getDirectory(),s=Object.keys(struct),r=t?t.trim():"";if(s.includes(r)&&e!==r)setDirectory(r);else{if(!(""===r||"~"===r||".."===r&&s.includes(e)))return errors.invalidDirectory;setDirectory("root")}return null},commands.cat=t=>{if(!t)return errors.fileNotSpecified;const e=(t,e)=>t.includes(e),s=t=>1!==t.split("/").length;if((t=>struct.hasOwnProperty(t))(t))return errors.invalidFile;if(!s(t)){const s=t.split(".")[0];if((t=>systemData.hasOwnProperty(t))(s)&&e(t,".txt"))return systemData[s]}if(s(t)){if(e(t,".txt")){const e=t.split("/"),s=e.slice(0,1).join(","),r=e.slice(1,e.length).join(",").split(".")[0];return"root"!==s&&struct.hasOwnProperty(s)&&((t,e)=>struct[e].includes(t))(r,s)?systemData[r]:errors.noSuchFileOrDirectory}return errors.noSuchFileOrDirectory}return errors.fileNotFound},commands.source_code=()=>{window.open("https://github.com/ra101/console","_blank")},commands.quit=commands.shutdown=commands.exit=close_terminal,commands.reboot=commands.restart=commands.reload=()=>{location.reload()},$((()=>{const t=document.getElementById("terminal");$.ajaxSetup({cache:!1});const e=[];e.push($.get("src/pages/about.html")),e.push($.get("src/pages/contact.html")),e.push($.get("src/pages/help.html")),e.push($.get("src/pages/all_commands.html")),e.push($.get("src/pages/ra.html")),e.push($.get("src/pages/codebytere.html")),e.push($.get("src/pages/resume.html")),e.push($.get("src/pages/root.html")),e.push($.get("src/pages/skills.html")),e.push($.get("src/pages/languages.html")),e.push($.get("src/pages/frameworks.html")),e.push($.get("src/pages/databases.html")),e.push($.get("src/pages/tools.html")),$.when.apply($,e).done(((t,e,s,r,o,a,n,c,i,m,l,d,p)=>{systemData.about=t[0],systemData.contact=e[0],systemData.help=s[0],systemData.all_commands=r[0],systemData.ra=o[0],systemData.codebytere=a[0],systemData.resume=n[0],systemData.root=c[0],systemData.skills=i[0],systemData.languages=m[0],systemData.frameworks=l[0],systemData.databases=d[0],systemData.tools=p[0]}));new Shell(t,commands)}));
